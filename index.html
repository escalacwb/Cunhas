<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Cunha - Caster</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --color-primary: #2180a0;
            --color-primary-hover: #1d7490;
            --color-success: #2d8080;
            --color-danger: #c0152f;
            --color-bg: #faf8f9;
            --color-surface: #fffff5;
            --color-border: #5e5240;
            --color-text: #134252;
            --color-text-light: #626c71;
            --radius: 8px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f5f5f5 0%, #faf8f9 100%);
            color: var(--color-text);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: var(--radius);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: var(--color-primary);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 5px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--color-primary);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-size: 13px;
            font-weight: 600;
            color: var(--color-text);
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .label-hint {
            font-size: 12px;
            font-weight: normal;
            color: var(--color-text-light);
        }

        input,
        select {
            padding: 10px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.2s ease;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(33, 128, 141, 0.1);
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--color-primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(33, 128, 141, 0.3);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: var(--color-text);
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .results {
            background: linear-gradient(135deg, #f0f9fa 0%, #f5f8fa 100%);
            padding: 20px;
            border-radius: var(--radius);
            margin-top: 20px;
            border-left: 4px solid var(--color-primary);
        }

        .result-item {
            background: white;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 15px;
            border-left: 4px solid var(--color-primary);
        }

        .result-item:last-child {
            margin-bottom: 0;
        }

        .result-label {
            font-size: 12px;
            font-weight: 600;
            color: var(--color-text-light);
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .result-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--color-primary);
        }

        .result-unit {
            font-size: 12px;
            color: var(--color-text-light);
            margin-left: 5px;
        }

        .result-item.warning {
            border-left-color: #e67e22;
            background: #fff8f0;
        }

        .result-item.warning .result-value {
            color: #e67e22;
        }

        .result-item.danger {
            border-left-color: var(--color-danger);
            background: #fff0f0;
        }

        .result-item.danger .result-value {
            color: var(--color-danger);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 13px;
        }

        .table th {
            background: var(--color-primary);
            color: white;
            padding: 10px;
            text-align: left;
            font-weight: 600;
        }

        .table td {
            padding: 10px;
            border-bottom: 1px solid #e0e0e0;
        }

        .table tr:hover {
            background: #f5f5f5;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            font-size: 13px;
            color: #1565c0;
        }

        .info-box strong {
            display: block;
            margin-bottom: 5px;
        }

        .error-message {
            color: var(--color-danger);
            font-size: 12px;
            margin-top: 5px;
        }

        .hidden {
            display: none;
        }

        .adjustment-note {
            font-size: 12px;
            color: var(--color-text-light);
            margin-top: 5px;
            padding: 8px;
            background: #f9f9f9;
            border-radius: 4px;
        }

        @media (max-width: 768px) {
            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 22px;
            }

            .content {
                padding: 15px;
            }

            .grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”§ Calculadora de Cunha</h1>
            <p>CÃ¡lculo de ajuste de cÃ¡ster para alinhamento de eixos dianteiros (linha pesada)</p>
        </div>

        <div class="content">
            <div class="info-box">
                <strong>â„¹ï¸ Como usar:</strong>
                Insira as especificaÃ§Ãµes do fabricante (mÃ­n e mÃ¡x de cÃ¡ster), os valores medidos em cada lado do veÃ­culo e a largura do eixo. A calculadora encontrarÃ¡ a cunha ideal em milÃ­metros.
            </div>

            <!-- SEÃ‡ÃƒO 1: ESPECIFICAÃ‡Ã•ES DO FABRICANTE -->
            <div class="section">
                <div class="section-title">1ï¸âƒ£ EspecificaÃ§Ãµes do Fabricante</div>
                <div class="grid">
                    <div class="form-group">
                        <label>CÃ¡ster MÃ­nimo <span class="label-hint">(graus e minutos)</span></label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="number" id="casterMinGraus" placeholder="Graus" min="0" max="20" step="1">
                            <input type="number" id="casterMinMinutos" placeholder="Minutos" min="0" max="59" step="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>CÃ¡ster MÃ¡ximo <span class="label-hint">(graus e minutos)</span></label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="number" id="casterMaxGraus" placeholder="Graus" min="0" max="20" step="1">
                            <input type="number" id="casterMaxMinutos" placeholder="Minutos" min="0" max="59" step="1">
                        </div>
                    </div>
                </div>
                <div class="adjustment-note" id="idealValue"></div>
            </div>

            <!-- SEÃ‡ÃƒO 2: MEDIÃ‡Ã•ES -->
            <div class="section">
                <div class="section-title">2ï¸âƒ£ CÃ¡ster Medido no VeÃ­culo</div>
                <div class="grid">
                    <div class="form-group">
                        <label>CÃ¡ster Esquerdo <span class="label-hint">(graus e minutos)</span></label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="number" id="casterLeftGraus" placeholder="Graus" min="0" max="20" step="1">
                            <input type="number" id="casterLeftMinutos" placeholder="Minutos" min="0" max="59" step="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>CÃ¡ster Direito <span class="label-hint">(graus e minutos)</span></label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="number" id="casterRightGraus" placeholder="Graus" min="0" max="20" step="1">
                            <input type="number" id="casterRightMinutos" placeholder="Minutos" min="0" max="59" step="1">
                        </div>
                    </div>
                </div>
            </div>

            <!-- SEÃ‡ÃƒO 3: LARGURA DO EIXO -->
            <div class="section">
                <div class="section-title">3ï¸âƒ£ Largura do Eixo</div>
                <div class="grid">
                    <div class="form-group">
                        <label>Largura da Sapata <span class="label-hint">(metros)</span></label>
                        <select id="axleWidth">
                            <option value="">-- Selecione a largura --</option>
                            <option value="0.10">0.10 m</option>
                            <option value="0.11">0.11 m</option>
                            <option value="0.12">0.12 m</option>
                            <option value="0.13">0.13 m</option>
                            <option value="0.14">0.14 m</option>
                            <option value="0.15">0.15 m</option>
                            <option value="0.16">0.16 m</option>
                            <option value="0.17">0.17 m</option>
                            <option value="0.18">0.18 m</option>
                            <option value="0.19">0.19 m</option>
                            <option value="0.20">0.20 m</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- BOTÃ•ES -->
            <div class="button-group">
                <button class="btn-primary" onclick="calcularCunha()">Calcular Cunha</button>
                <button class="btn-secondary" onclick="limparFormulario()">Limpar</button>
            </div>

            <!-- RESULTADOS -->
            <div id="resultsContainer" class="hidden">
                <div class="results">
                    <h3 style="color: var(--color-primary); margin-bottom: 20px;">ğŸ“Š Resultados do CÃ¡lculo</h3>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>ParÃ¢metro</th>
                                <th>Esquerdo</th>
                                <th>Direito</th>
                                <th>SituaÃ§Ã£o</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Medido</strong></td>
                                <td id="resLeftMeasured"></td>
                                <td id="resRightMeasured"></td>
                                <td>âœ“</td>
                            </tr>
                            <tr>
                                <td><strong>Ideal</strong></td>
                                <td id="resIdeal" colspan="2" style="text-align: center;"></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><strong>DiferenÃ§a</strong></td>
                                <td id="resLeftDiff"></td>
                                <td id="resRightDiff"></td>
                                <td id="statusDiff"></td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="color: var(--color-primary); margin: 25px 0 20px 0; padding-bottom: 10px; border-bottom: 2px solid var(--color-primary);">ğŸ”© Cunha NecessÃ¡ria (mm)</h3>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                        <div class="result-item">
                            <div class="result-label">Cunha Esquerda</div>
                            <div class="result-value" id="cunhaLeft">-</div>
                            <div class="adjustment-note" id="noteLeft"></div>
                        </div>
                        <div class="result-item">
                            <div class="result-label">Cunha Direita</div>
                            <div class="result-value" id="cunhaRight">-</div>
                            <div class="adjustment-note" id="noteRight"></div>
                        </div>
                    </div>

                    <div class="info-box" style="margin-top: 20px;">
                        <strong>ğŸ“ InstruÃ§Ãµes de Ajuste:</strong>
                        <div id="instructionsBox" style="margin-top: 10px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tabelas com MM como chave e GRAUS E MINUTOS como valor (formato "GÂ°M'")
        const tabelasCunha = {
            0.10: {0: "0Â°00'", 2: "1Â°09'", 3: "1Â°43'", 4: "2Â°17'", 5: "2Â°52'", 6: "3Â°26'", 7: "4Â°00'", 8: "4Â°34'", 9: "5Â°09'", 10: "5Â°43'", 11: "6Â°17'", 12: "6Â°52'", 13: "7Â°26'", 14: "8Â°00'", 15: "8Â°35'", 16: "9Â°09'", 17: "9Â°43'", 18: "10Â°17'", 19: "10Â°52'", 20: "11Â°26'"},
            0.11: {0: "0Â°00'", 2: "1Â°02'", 3: "1Â°34'", 4: "2Â°05'", 5: "2Â°36'", 6: "3Â°07'", 7: "3Â°38'", 8: "4Â°09'", 9: "4Â°41'", 10: "5Â°12'", 11: "5Â°43'", 12: "6Â°14'", 13: "6Â°45'", 14: "7Â°17'", 15: "7Â°48'", 16: "8Â°19'", 17: "8Â°50'", 18: "9Â°21'", 19: "9Â°52'", 20: "10Â°24'"},
            0.12: {0: "0Â°00'", 2: "0Â°57'", 3: "1Â°26'", 4: "1Â°54'", 5: "2Â°23'", 6: "2Â°52'", 7: "3Â°20'", 8: "3Â°49'", 9: "4Â°17'", 10: "4Â°46'", 11: "5Â°14'", 12: "5Â°43'", 13: "6Â°12'", 14: "6Â°40'", 15: "7Â°09'", 16: "7Â°37'", 17: "8Â°06'", 18: "8Â°35'", 19: "9Â°03'", 20: "9Â°32'"},
            0.13: {0: "0Â°00'", 2: "0Â°53'", 3: "1Â°19'", 4: "1Â°46'", 5: "2Â°12'", 6: "2Â°38'", 7: "3Â°05'", 8: "3Â°31'", 9: "3Â°57'", 10: "4Â°24'", 11: "4Â°50'", 12: "5Â°17'", 13: "5Â°43'", 14: "6Â°09'", 15: "6Â°36'", 16: "7Â°02'", 17: "7Â°29'", 18: "7Â°55'", 19: "8Â°21'", 20: "8Â°48'"},
            0.14: {0: "0Â°00'", 2: "0Â°49'", 3: "1Â°14'", 4: "1Â°38'", 5: "2Â°03'", 6: "2Â°27'", 7: "2Â°52'", 8: "3Â°16'", 9: "3Â°41'", 10: "4Â°05'", 11: "4Â°30'", 12: "4Â°53'", 13: "5Â°19'", 14: "5Â°43'", 15: "6Â°08'", 16: "6Â°32'", 17: "6Â°57'", 18: "7Â°21'", 19: "7Â°46'", 20: "8Â°10'"},
            0.15: {0: "0Â°00'", 2: "0Â°46'", 3: "1Â°09'", 4: "1Â°31'", 5: "1Â°54'", 6: "2Â°17'", 7: "2Â°40'", 8: "3Â°03'", 9: "3Â°26'", 10: "3Â°49'", 11: "4Â°12'", 12: "4Â°34'", 13: "4Â°57'", 14: "5Â°20'", 15: "5Â°43'", 16: "6Â°06'", 17: "6Â°29'", 18: "6Â°52'", 19: "7Â°15'", 20: "7Â°37'"},
            0.16: {0: "0Â°00'", 2: "0Â°43'", 3: "1Â°04'", 4: "1Â°26'", 5: "1Â°47'", 6: "2Â°09'", 7: "2Â°30'", 8: "2Â°52'", 9: "3Â°13'", 10: "3Â°34'", 11: "3Â°56'", 12: "4Â°17'", 13: "4Â°39'", 14: "5Â°00'", 15: "5Â°22'", 16: "5Â°43'", 17: "6Â°04'", 18: "6Â°26'", 19: "6Â°47'", 20: "7Â°09'"},
            0.17: {0: "0Â°00'", 2: "0Â°40'", 3: "1Â°01'", 4: "1Â°21'", 5: "1Â°41'", 6: "2Â°01'", 7: "2Â°21'", 8: "2Â°41'", 9: "3Â°02'", 10: "3Â°22'", 11: "3Â°42'", 12: "4Â°02'", 13: "4Â°22'", 14: "4Â°42'", 15: "5Â°03'", 16: "5Â°23'", 17: "5Â°43'", 18: "6Â°03'", 19: "6Â°23'", 20: "6Â°44'"},
            0.18: {0: "0Â°00'", 2: "0Â°38'", 3: "0Â°57'", 4: "1Â°16'", 5: "1Â°35'", 6: "1Â°54'", 7: "2Â°13'", 8: "2Â°32'", 9: "2Â°52'", 10: "3Â°11'", 11: "3Â°30'", 12: "3Â°49'", 13: "4Â°08'", 14: "4Â°27'", 15: "4Â°46'", 16: "5Â°05'", 17: "5Â°24'", 18: "5Â°43'", 19: "6Â°02'", 20: "6Â°21'"},
            0.19: {0: "0Â°00'", 2: "0Â°36'", 3: "0Â°54'", 4: "1Â°12'", 5: "1Â°30'", 6: "1Â°48'", 7: "2Â°06'", 8: "2Â°24'", 9: "2Â°42'", 10: "3Â°01'", 11: "3Â°19'", 12: "3Â°37'", 13: "3Â°55'", 14: "4Â°13'", 15: "4Â°31'", 16: "4Â°49'", 17: "5Â°07'", 18: "5Â°25'", 19: "5Â°43'", 20: "6Â°02'"},
            0.20: {0: "0Â°00'", 2: "0Â°34'", 3: "0Â°51'", 4: "1Â°09'", 5: "1Â°26'", 6: "1Â°43'", 7: "2Â°00'", 8: "2Â°17'", 9: "2Â°34'", 10: "2Â°51'", 11: "3Â°08'", 12: "3Â°25'", 13: "3Â°42'", 14: "4Â°01'", 15: "4Â°18'", 16: "4Â°35'", 17: "4Â°52'", 18: "5Â°09'", 19: "5Â°26'", 20: "5Â°43'"}
        };

        function converterGrausMinutosParaDecimal(str) {
            // Converte "1Â°04'" para decimal
            const match = str.match(/(\d+)Â°(\d+)'/);
            if (match) {
                const graus = parseInt(match[1]);
                const minutos = parseInt(match[2]);
                return graus + minutos / 60;
            }
            return 0;
        }

        function encontrarCunha(diferenca, largura) {
            const tabela = tabelasCunha[parseFloat(largura)];
            if (!tabela) return null;

            const diferencaAbs = Math.abs(diferenca);
            let melhorMM = null;
            let menorDiferenca = Infinity;

            // Buscar na tabela do eixo qual valor se aproxima mais da diferenÃ§a
            for (let mm in tabela) {
                const grausMinutosStr = tabela[mm];  // Ex: "1Â°04'"
                const grausDecimal = converterGrausMinutosParaDecimal(grausMinutosStr);
                const diferenca = Math.abs(grausDecimal - diferencaAbs);

                if (diferenca < menorDiferenca) {
                    menorDiferenca = diferenca;
                    melhorMM = mm;
                }
            }

            if (melhorMM !== null) {
                const grausResultado = converterGrausMinutosParaDecimal(tabela[melhorMM]);
                return { mm: parseInt(melhorMM), graus: grausResultado };
            }
            return null;
        }

        function converterParaDecimal(graus, minutos) {
            return parseFloat(graus) + parseFloat(minutos) / 60;
        }

        function converterParaGrausMinutos(decimal) {
            const graus = Math.floor(decimal);
            const minutos = Math.round((decimal - graus) * 60);
            return { graus, minutos };
        }

        function calcularCunha() {
            const casterMinGraus = document.getElementById('casterMinGraus').value;
            const casterMinMinutos = document.getElementById('casterMinMinutos').value;
            const casterMaxGraus = document.getElementById('casterMaxGraus').value;
            const casterMaxMinutos = document.getElementById('casterMaxMinutos').value;
            const casterLeftGraus = document.getElementById('casterLeftGraus').value;
            const casterLeftMinutos = document.getElementById('casterLeftMinutos').value;
            const casterRightGraus = document.getElementById('casterRightGraus').value;
            const casterRightMinutos = document.getElementById('casterRightMinutos').value;
            const axleWidth = document.getElementById('axleWidth').value;

            // ValidaÃ§Ãµes
            if (!casterMinGraus || !casterMaxGraus || !casterLeftGraus || !casterRightGraus || !axleWidth) {
                alert('Por favor, preencha todos os campos');
                return;
            }

            const casterMin = converterParaDecimal(casterMinGraus, casterMinMinutos || 0);
            const casterMax = converterParaDecimal(casterMaxGraus, casterMaxMinutos || 0);
            const casterLeft = converterParaDecimal(casterLeftGraus, casterLeftMinutos || 0);
            const casterRight = converterParaDecimal(casterRightGraus, casterRightMinutos || 0);

            if (casterMin >= casterMax) {
                alert('CÃ¡ster MÃ­nimo deve ser menor que CÃ¡ster MÃ¡ximo');
                return;
            }

            const ideal = (casterMin + casterMax) / 2;
            const diffLeft = casterLeft - ideal;
            const diffRight = casterRight - ideal;

            const cunhaLeft = encontrarCunha(diffLeft, axleWidth);
            const cunhaRight = encontrarCunha(diffRight, axleWidth);

            // Converter para graus e minutos para exibiÃ§Ã£o
            const idealGM = converterParaGrausMinutos(ideal);
            const leftGM = converterParaGrausMinutos(casterLeft);
            const rightGM = converterParaGrausMinutos(casterRight);
            const diffLeftGM = converterParaGrausMinutos(Math.abs(diffLeft));
            const diffRightGM = converterParaGrausMinutos(Math.abs(diffRight));

            // Atualizar ideal value
            document.getElementById('idealValue').innerHTML = `<strong>Valor Ideal de CÃ¡ster:</strong> ${idealGM.graus}Â° ${String(idealGM.minutos).padStart(2, '0')}'`;

            // Atualizar resultados
            document.getElementById('resLeftMeasured').textContent = `${leftGM.graus}Â° ${String(leftGM.minutos).padStart(2, '0')}'`;
            document.getElementById('resRightMeasured').textContent = `${rightGM.graus}Â° ${String(rightGM.minutos).padStart(2, '0')}'`;
            document.getElementById('resIdeal').textContent = `${idealGM.graus}Â° ${String(idealGM.minutos).padStart(2, '0')}'`;
            document.getElementById('resLeftDiff').textContent = `${diffLeft > 0 ? '+' : '-'}${diffLeftGM.graus}Â° ${String(diffLeftGM.minutos).padStart(2, '0')}'`;
            document.getElementById('resRightDiff').textContent = `${diffRight > 0 ? '+' : '-'}${diffRightGM.graus}Â° ${String(diffRightGM.minutos).padStart(2, '0')}'`;

            // Verificar se estÃ¡ dentro da tolerÃ¢ncia (0.5Â°)
            const emTolerancia = Math.abs(diffLeft) <= 0.5 && Math.abs(diffRight) <= 0.5;
            document.getElementById('statusDiff').textContent = emTolerancia ? 'âœ“ OK' : 'âš ï¸ Fora';

            // Atualizar cunhas
            if (cunhaLeft) {
                document.getElementById('cunhaLeft').textContent = `${cunhaLeft.mm} mm`;
                const direcao = diffLeft > 0 ? 'AUMENTAR' : 'DIMINUIR';
                document.getElementById('noteLeft').textContent = `${direcao} cÃ¡ster: colocar cunha com parte mais grossa para ${diffLeft > 0 ? 'TRÃS' : 'FRENTE'}`;
            } else {
                document.getElementById('cunhaLeft').textContent = 'NÃ£o encontrada';
                document.getElementById('noteLeft').textContent = 'Verifique a largura do eixo';
            }

            if (cunhaRight) {
                document.getElementById('cunhaRight').textContent = `${cunhaRight.mm} mm`;
                const direcao = diffRight > 0 ? 'AUMENTAR' : 'DIMINUIR';
                document.getElementById('noteRight').textContent = `${direcao} cÃ¡ster: colocar cunha com parte mais grossa para ${diffRight > 0 ? 'TRÃS' : 'FRENTE'}`;
            } else {
                document.getElementById('cunhaRight').textContent = 'NÃ£o encontrada';
                document.getElementById('noteRight').textContent = 'Verifique a largura do eixo';
            }

            // InstruÃ§Ãµes
            let instrucoes = '<strong>1. PosiÃ§Ã£o da cunha ao colocar:</strong><br>';
            if (diffLeft > 0) {
                instrucoes += 'â€¢ Esquerda: Cunha com parte MAIS GROSSA para TRÃS (aumenta cÃ¡ster)<br>';
            } else {
                instrucoes += 'â€¢ Esquerda: Cunha com parte MAIS GROSSA para FRENTE (diminui cÃ¡ster)<br>';
            }
            if (diffRight > 0) {
                instrucoes += 'â€¢ Direita: Cunha com parte MAIS GROSSA para TRÃS (aumenta cÃ¡ster)<br>';
            } else {
                instrucoes += 'â€¢ Direita: Cunha com parte MAIS GROSSA para FRENTE (diminui cÃ¡ster)<br>';
            }
            instrucoes += '<br><strong>2. VerificaÃ§Ã£o:</strong><br>';
            instrucoes += 'â€¢ Use EPIs obrigatÃ³rios<br>';
            instrucoes += 'â€¢ Coloque a cunha entre a sapata e o pino mestre<br>';
            instrucoes += 'â€¢ âš ï¸ Importante: Os calos em ambos os lados devem ter TAMANHOS IGUAIS<br>';
            instrucoes += 'â€¢ RefaÃ§a a mediÃ§Ã£o apÃ³s a colocaÃ§Ã£o para confirmar';

            document.getElementById('instructionsBox').innerHTML = instrucoes;
            document.getElementById('resultsContainer').classList.remove('hidden');
        }

        function limparFormulario() {
            document.getElementById('casterMinGraus').value = '';
            document.getElementById('casterMinMinutos').value = '';
            document.getElementById('casterMaxGraus').value = '';
            document.getElementById('casterMaxMinutos').value = '';
            document.getElementById('casterLeftGraus').value = '';
            document.getElementById('casterLeftMinutos').value = '';
            document.getElementById('casterRightGraus').value = '';
            document.getElementById('casterRightMinutos').value = '';
            document.getElementById('axleWidth').value = '';
            document.getElementById('idealValue').textContent = '';
            document.getElementById('resultsContainer').classList.add('hidden');
        }

        // Atualizar valor ideal em tempo real
        function atualizarIdeal() {
            const casterMinGraus = document.getElementById('casterMinGraus').value;
            const casterMinMinutos = document.getElementById('casterMinMinutos').value || 0;
            const casterMaxGraus = document.getElementById('casterMaxGraus').value;
            const casterMaxMinutos = document.getElementById('casterMaxMinutos').value || 0;
            
            if (casterMinGraus && casterMaxGraus) {
                const casterMin = converterParaDecimal(casterMinGraus, casterMinMinutos);
                const casterMax = converterParaDecimal(casterMaxGraus, casterMaxMinutos);
                
                if (casterMin < casterMax) {
                    const ideal = (casterMin + casterMax) / 2;
                    const idealGM = converterParaGrausMinutos(ideal);
                    document.getElementById('idealValue').innerHTML = `<strong>Valor Ideal de CÃ¡ster:</strong> ${idealGM.graus}Â° ${String(idealGM.minutos).padStart(2, '0')}'`;
                }
            }
        }

        document.getElementById('casterMinGraus').addEventListener('change', atualizarIdeal);
        document.getElementById('casterMinMinutos').addEventListener('change', atualizarIdeal);
        document.getElementById('casterMaxGraus').addEventListener('change', atualizarIdeal);
        document.getElementById('casterMaxMinutos').addEventListener('change', atualizarIdeal);
    </script>
</body>
</html>
