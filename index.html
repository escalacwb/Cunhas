<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Cunha - Caster</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --color-primary: #2180a0;
            --color-primary-hover: #1d7490;
            --color-success: #2d8080;
            --color-danger: #c0152f;
            --color-bg: #faf8f9;
            --color-surface: #fffff5;
            --color-border: #5e5240;
            --color-text: #134252;
            --color-text-light: #626c71;
            --radius: 8px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f5f5f5 0%, #faf8f9 100%);
            color: var(--color-text);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: var(--radius);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: var(--color-primary);
            color: white;
            padding: 30px 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 5px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.9;
        }

        .content {
            padding: 30px;
        }

        .section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--color-primary);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        label {
            font-size: 13px;
            font-weight: 600;
            color: var(--color-text);
            margin-bottom: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .label-hint {
            font-size: 12px;
            font-weight: normal;
            color: var(--color-text-light);
        }

        input,
        select {
            padding: 10px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.2s ease;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(33, 128, 141, 0.1);
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: var(--color-primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--color-primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(33, 128, 141, 0.3);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: var(--color-text);
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .results {
            background: linear-gradient(135deg, #f0f9fa 0%, #f5f8fa 100%);
            padding: 20px;
            border-radius: var(--radius);
            margin-top: 20px;
            border-left: 4px solid var(--color-primary);
        }

        .result-item {
            background: white;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 15px;
            border-left: 4px solid var(--color-primary);
        }

        .result-item:last-child {
            margin-bottom: 0;
        }

        .result-label {
            font-size: 12px;
            font-weight: 600;
            color: var(--color-text-light);
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .result-value {
            font-size: 20px;
            font-weight: 700;
            color: var(--color-primary);
        }

        .result-unit {
            font-size: 12px;
            color: var(--color-text-light);
            margin-left: 5px;
        }

        .result-item.warning {
            border-left-color: #e67e22;
            background: #fff8f0;
        }

        .result-item.warning .result-value {
            color: #e67e22;
        }

        .result-item.danger {
            border-left-color: var(--color-danger);
            background: #fff0f0;
        }

        .result-item.danger .result-value {
            color: var(--color-danger);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 13px;
        }

        .table th {
            background: var(--color-primary);
            color: white;
            padding: 10px;
            text-align: left;
            font-weight: 600;
        }

        .table td {
            padding: 10px;
            border-bottom: 1px solid #e0e0e0;
        }

        .table tr:hover {
            background: #f5f5f5;
        }

        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            font-size: 13px;
            color: #1565c0;
        }

        .info-box strong {
            display: block;
            margin-bottom: 5px;
        }

        .error-message {
            color: var(--color-danger);
            font-size: 12px;
            margin-top: 5px;
        }

        .hidden {
            display: none;
        }

        .adjustment-note {
            font-size: 12px;
            color: var(--color-text-light);
            margin-top: 5px;
            padding: 8px;
            background: #f9f9f9;
            border-radius: 4px;
        }

        @media (max-width: 768px) {
            .header {
                padding: 20px;
            }

            .header h1 {
                font-size: 22px;
            }

            .content {
                padding: 15px;
            }

            .grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîß Calculadora de Cunha</h1>
            <p>C√°lculo de ajuste de c√°ster para alinhamento de eixos dianteiros (linha pesada)</p>
        </div>

        <div class="content">
            <div class="info-box">
                <strong>‚ÑπÔ∏è Como usar:</strong>
                Insira as especifica√ß√µes do fabricante (m√≠n e m√°x de c√°ster), os valores medidos em cada lado do ve√≠culo e a largura do eixo. A calculadora encontrar√° a cunha ideal em mil√≠metros.
            </div>

            <!-- SE√á√ÉO 1: ESPECIFICA√á√ïES DO FABRICANTE -->
            <div class="section">
                <div class="section-title">1Ô∏è‚É£ Especifica√ß√µes do Fabricante</div>
                <div class="grid">
                    <div class="form-group">
                        <label>C√°ster M√≠nimo <span class="label-hint">(graus e minutos)</span></label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="number" id="casterMinGraus" placeholder="Graus" min="0" max="20" step="1">
                            <input type="number" id="casterMinMinutos" placeholder="Minutos" min="0" max="59" step="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>C√°ster M√°ximo <span class="label-hint">(graus e minutos)</span></label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="number" id="casterMaxGraus" placeholder="Graus" min="0" max="20" step="1">
                            <input type="number" id="casterMaxMinutos" placeholder="Minutos" min="0" max="59" step="1">
                        </div>
                    </div>
                </div>
                <div class="adjustment-note" id="idealValue"></div>
            </div>

            <!-- SE√á√ÉO 2: MEDI√á√ïES -->
            <div class="section">
                <div class="section-title">2Ô∏è‚É£ C√°ster Medido no Ve√≠culo</div>
                <div class="grid">
                    <div class="form-group">
                        <label>C√°ster Esquerdo <span class="label-hint">(graus e minutos)</span></label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="number" id="casterLeftGraus" placeholder="Graus" min="0" max="20" step="1">
                            <input type="number" id="casterLeftMinutos" placeholder="Minutos" min="0" max="59" step="1">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>C√°ster Direito <span class="label-hint">(graus e minutos)</span></label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <input type="number" id="casterRightGraus" placeholder="Graus" min="0" max="20" step="1">
                            <input type="number" id="casterRightMinutos" placeholder="Minutos" min="0" max="59" step="1">
                        </div>
                    </div>
                </div>
            </div>

            <!-- SE√á√ÉO 3: LARGURA DO EIXO -->
            <div class="section">
                <div class="section-title">3Ô∏è‚É£ Largura do Eixo</div>
                <div class="grid">
                    <div class="form-group">
                        <label>Largura da Sapata <span class="label-hint">(metros)</span></label>
                        <select id="axleWidth">
                            <option value="">-- Selecione a largura --</option>
                            <option value="0.10">0.10 m</option>
                            <option value="0.11">0.11 m</option>
                            <option value="0.12">0.12 m</option>
                            <option value="0.13">0.13 m</option>
                            <option value="0.14">0.14 m</option>
                            <option value="0.15">0.15 m</option>
                            <option value="0.16">0.16 m</option>
                            <option value="0.17">0.17 m</option>
                            <option value="0.18">0.18 m</option>
                            <option value="0.19">0.19 m</option>
                            <option value="0.20">0.20 m</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- BOT√ïES -->
            <div class="button-group">
                <button class="btn-primary" onclick="calcularCunha()">Calcular Cunha</button>
                <button class="btn-secondary" onclick="limparFormulario()">Limpar</button>
            </div>

            <!-- RESULTADOS -->
            <div id="resultsContainer" class="hidden">
                <div class="results">
                    <h3 style="color: var(--color-primary); margin-bottom: 20px;">üìä Resultados do C√°lculo</h3>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Par√¢metro</th>
                                <th>Esquerdo</th>
                                <th>Direito</th>
                                <th>Situa√ß√£o</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Medido</strong></td>
                                <td id="resLeftMeasured"></td>
                                <td id="resRightMeasured"></td>
                                <td>‚úì</td>
                            </tr>
                            <tr>
                                <td><strong>Ideal</strong></td>
                                <td id="resIdeal" colspan="2" style="text-align: center;"></td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><strong>Diferen√ßa</strong></td>
                                <td id="resLeftDiff"></td>
                                <td id="resRightDiff"></td>
                                <td id="statusDiff"></td>
                            </tr>
                        </tbody>
                    </table>

                    <h3 style="color: var(--color-primary); margin: 25px 0 20px 0; padding-bottom: 10px; border-bottom: 2px solid var(--color-primary);">üî© Cunha Necess√°ria (mm)</h3>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                        <div class="result-item">
                            <div class="result-label">Cunha Esquerda</div>
                            <div class="result-value" id="cunhaLeft">-</div>
                            <div class="adjustment-note" id="noteLeft"></div>
                        </div>
                        <div class="result-item">
                            <div class="result-label">Cunha Direita</div>
                            <div class="result-value" id="cunhaRight">-</div>
                            <div class="adjustment-note" id="noteRight"></div>
                        </div>
                    </div>

                    <div class="info-box" style="margin-top: 20px;">
                        <strong>üìù Instru√ß√µes de Ajuste:</strong>
                        <div id="instructionsBox" style="margin-top: 10px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tabelas com MM como chave e GRAUS E MINUTOS como valor (formato "G¬∞M'")
        const tabelasCunha = {
            0.10: {0: "0¬∞00'", 2: "1¬∞09'", 3: "1¬∞43'", 4: "2¬∞17'", 5: "2¬∞52'", 6: "3¬∞26'", 7: "4¬∞00'", 8: "4¬∞34'", 9: "5¬∞09'", 10: "5¬∞43'", 11: "6¬∞17'", 12: "6¬∞52'", 13: "7¬∞26'", 14: "8¬∞00'", 15: "8¬∞35'", 16: "9¬∞09'", 17: "9¬∞43'", 18: "10¬∞17'", 19: "10¬∞52'", 20: "11¬∞26'"},
            0.11: {0: "0¬∞00'", 2: "1¬∞02'", 3: "1¬∞34'", 4: "2¬∞05'", 5: "2¬∞36'", 6: "3¬∞07'", 7: "3¬∞38'", 8: "4¬∞09'", 9: "4¬∞41'", 10: "5¬∞12'", 11: "5¬∞43'", 12: "6¬∞14'", 13: "6¬∞45'", 14: "7¬∞17'", 15: "7¬∞48'", 16: "8¬∞19'", 17: "8¬∞50'", 18: "9¬∞21'", 19: "9¬∞52'", 20: "10¬∞24'"},
            0.12: {0: "0¬∞00'", 2: "0¬∞57'", 3: "1¬∞26'", 4: "1¬∞54'", 5: "2¬∞23'", 6: "2¬∞52'", 7: "3¬∞20'", 8: "3¬∞49'", 9: "4¬∞17'", 10: "4¬∞46'", 11: "5¬∞14'", 12: "5¬∞43'", 13: "6¬∞12'", 14: "6¬∞40'", 15: "7¬∞09'", 16: "7¬∞37'", 17: "8¬∞06'", 18: "8¬∞35'", 19: "9¬∞03'", 20: "9¬∞32'"},
            0.13: {0: "0¬∞00'", 2: "0¬∞53'", 3: "1¬∞19'", 4: "1¬∞46'", 5: "2¬∞12'", 6: "2¬∞38'", 7: "3¬∞05'", 8: "3¬∞31'", 9: "3¬∞57'", 10: "4¬∞24'", 11: "4¬∞50'", 12: "5¬∞17'", 13: "5¬∞43'", 14: "6¬∞09'", 15: "6¬∞36'", 16: "7¬∞02'", 17: "7¬∞29'", 18: "7¬∞55'", 19: "8¬∞21'", 20: "8¬∞48'"},
            0.14: {0: "0¬∞00'", 2: "0¬∞49'", 3: "1¬∞14'", 4: "1¬∞38'", 5: "2¬∞03'", 6: "2¬∞27'", 7: "2¬∞52'", 8: "3¬∞16'", 9: "3¬∞41'", 10: "4¬∞05'", 11: "4¬∞30'", 12: "4¬∞53'", 13: "5¬∞19'", 14: "5¬∞43'", 15: "6¬∞08'", 16: "6¬∞32'", 17: "6¬∞57'", 18: "7¬∞21'", 19: "7¬∞46'", 20: "8¬∞10'"},
            0.15: {0: "0¬∞00'", 2: "0¬∞46'", 3: "1¬∞09'", 4: "1¬∞31'", 5: "1¬∞54'", 6: "2¬∞17'", 7: "2¬∞40'", 8: "3¬∞03'", 9: "3¬∞26'", 10: "3¬∞49'", 11: "4¬∞12'", 12: "4¬∞34'", 13: "4¬∞57'", 14: "5¬∞20'", 15: "5¬∞43'", 16: "6¬∞06'", 17: "6¬∞29'", 18: "6¬∞52'", 19: "7¬∞15'", 20: "7¬∞37'"},
            0.16: {0: "0¬∞00'", 2: "0¬∞43'", 3: "1¬∞04'", 4: "1¬∞26'", 5: "1¬∞47'", 6: "2¬∞09'", 7: "2¬∞30'", 8: "2¬∞52'", 9: "3¬∞13'", 10: "3¬∞34'", 11: "3¬∞56'", 12: "4¬∞17'", 13: "4¬∞39'", 14: "5¬∞00'", 15: "5¬∞22'", 16: "5¬∞43'", 17: "6¬∞04'", 18: "6¬∞26'", 19: "6¬∞47'", 20: "7¬∞09'"},
            0.17: {0: "0¬∞00'", 2: "0¬∞40'", 3: "1¬∞01'", 4: "1¬∞21'", 5: "1¬∞41'", 6: "2¬∞01'", 7: "2¬∞21'", 8: "2¬∞41'", 9: "3¬∞02'", 10: "3¬∞22'", 11: "3¬∞42'", 12: "4¬∞02'", 13: "4¬∞22'", 14: "4¬∞42'", 15: "5¬∞03'", 16: "5¬∞23'", 17: "5¬∞43'", 18: "6¬∞03'", 19: "6¬∞23'", 20: "6¬∞44'"},
            0.18: {0: "0¬∞00'", 2: "0¬∞38'", 3: "0¬∞57'", 4: "1¬∞16'", 5: "1¬∞35'", 6: "1¬∞54'", 7: "2¬∞13'", 8: "2¬∞32'", 9: "2¬∞52'", 10: "3¬∞11'", 11: "3¬∞30'", 12: "3¬∞49'", 13: "4¬∞08'", 14: "4¬∞27'", 15: "4¬∞46'", 16: "5¬∞05'", 17: "5¬∞24'", 18: "5¬∞43'", 19: "6¬∞02'", 20: "6¬∞21'"},
            0.19: {0: "0¬∞00'", 2: "0¬∞36'", 3: "0¬∞54'", 4: "1¬∞12'", 5: "1¬∞30'", 6: "1¬∞48'", 7: "2¬∞06'", 8: "2¬∞24'", 9: "2¬∞42'", 10: "3¬∞01'", 11: "3¬∞19'", 12: "3¬∞37'", 13: "3¬∞55'", 14: "4¬∞13'", 15: "4¬∞31'", 16: "4¬∞49'", 17: "5¬∞07'", 18: "5¬∞25'", 19: "5¬∞43'", 20: "6¬∞02'"},
            0.20: {0: "0¬∞00'", 2: "0¬∞34'", 3: "0¬∞51'", 4: "1¬∞09'", 5: "1¬∞26'", 6: "1¬∞43'", 7: "2¬∞00'", 8: "2¬∞17'", 9: "2¬∞34'", 10: "2¬∞51'", 11: "3¬∞08'", 12: "3¬∞25'", 13: "3¬∞42'", 14: "4¬∞01'", 15: "4¬∞18'", 16: "4¬∞35'", 17: "4¬∞52'", 18: "5¬∞09'", 19: "5¬∞26'", 20: "5¬∞43'"}
        };

        function converterGrausMinutosParaDecimal(str) {
            // Converte "1¬∞04'" para decimal
            const match = str.match(/(\d+)¬∞(\d+)'/);
            if (match) {
                const graus = parseInt(match[1]);
                const minutos = parseInt(match[2]);
                return graus + minutos / 60;
            }
            return 0;
        }

        function encontrarCunha(diferenca, largura) {
    const tabela = tabelasCunha[parseFloat(largura)];
    if (!tabela) return null;

    const alvo = Math.abs(diferenca); // diferen√ßa de c√°ster em graus
    let melhorMm = 0;
    let melhorDelta = alvo; // come√ßa com 0 mm

    Object.entries(tabela).forEach(([mmStr, grausMinutos]) => {
        const mm = parseInt(mmStr, 10);
        if (mm === 0) return; // j√° considerado
        const valor = converterGrausMinutosParaDecimal(grausMinutos);
        const delta = Math.abs(alvo - valor);
        if (delta < melhorDelta) {
            melhorDelta = delta;
            melhorMm = mm;
        }
    });

    return { mm: melhorMm };
}

        function converterParaDecimal(graus, minutos) {
            return parseFloat(graus) + parseFloat(minutos) / 60;
        }

        function converterParaGrausMinutos(decimal) {
            const graus = Math.floor(decimal);
            const minutos = Math.round((decimal - graus) * 60);
            return { graus, minutos };
        }

        function calcularCunha() {
            const casterMinGraus = document.getElementById('casterMinGraus').value;
            const casterMinMinutos = document.getElementById('casterMinMinutos').value;
            const casterMaxGraus = document.getElementById('casterMaxGraus').value;
            const casterMaxMinutos = document.getElementById('casterMaxMinutos').value;
            const casterLeftGraus = document.getElementById('casterLeftGraus').value;
            const casterLeftMinutos = document.getElementById('casterLeftMinutos').value;
            const casterRightGraus = document.getElementById('casterRightGraus').value;
            const casterRightMinutos = document.getElementById('casterRightMinutos').value;
            const axleWidth = document.getElementById('axleWidth').value;

            // Valida√ß√µes
            if (!casterMinGraus || !casterMaxGraus || !casterLeftGraus || !casterRightGraus || !axleWidth) {
                alert('Por favor, preencha todos os campos');
                return;
            }

            const casterMin = converterParaDecimal(casterMinGraus, casterMinMinutos || 0);
            const casterMax = converterParaDecimal(casterMaxGraus, casterMaxMinutos || 0);
            const casterLeft = converterParaDecimal(casterLeftGraus, casterLeftMinutos || 0);
            const casterRight = converterParaDecimal(casterRightGraus, casterRightMinutos || 0);

            if (casterMin >= casterMax) {
                alert('C√°ster M√≠nimo deve ser menor que C√°ster M√°ximo');
                return;
            }

            const ideal = (casterMin + casterMax) / 2;
            const diffLeft = casterLeft - ideal;
            const diffRight = casterRight - ideal;

            const cunhaLeft = encontrarCunha(diffLeft, axleWidth);
            const cunhaRight = encontrarCunha(diffRight, axleWidth);

            // Converter para graus e minutos para exibi√ß√£o
            const idealGM = converterParaGrausMinutos(ideal);
            const leftGM = converterParaGrausMinutos(casterLeft);
            const rightGM = converterParaGrausMinutos(casterRight);
            const diffLeftGM = converterParaGrausMinutos(Math.abs(diffLeft));
            const diffRightGM = converterParaGrausMinutos(Math.abs(diffRight));

            // Atualizar ideal value
            document.getElementById('idealValue').innerHTML = `<strong>Valor Ideal de C√°ster:</strong> ${idealGM.graus}¬∞ ${String(idealGM.minutos).padStart(2, '0')}'`;

            // Atualizar resultados
            document.getElementById('resLeftMeasured').textContent = `${leftGM.graus}¬∞ ${String(leftGM.minutos).padStart(2, '0')}'`;
            document.getElementById('resRightMeasured').textContent = `${rightGM.graus}¬∞ ${String(rightGM.minutos).padStart(2, '0')}'`;
            document.getElementById('resIdeal').textContent = `${idealGM.graus}¬∞ ${String(idealGM.minutos).padStart(2, '0')}'`;
            document.getElementById('resLeftDiff').textContent = `${diffLeft > 0 ? '+' : '-'}${diffLeftGM.graus}¬∞ ${String(diffLeftGM.minutos).padStart(2, '0')}'`;
            document.getElementById('resRightDiff').textContent = `${diffRight > 0 ? '+' : '-'}${diffRightGM.graus}¬∞ ${String(diffRightGM.minutos).padStart(2, '0')}'`;

            // Verificar se est√° dentro da toler√¢ncia (0.5¬∞)
            const emTolerancia = Math.abs(diffLeft) <= 0.5 && Math.abs(diffRight) <= 0.5;
            document.getElementById('statusDiff').textContent = emTolerancia ? '‚úì OK' : '‚ö†Ô∏è Fora';

            // Atualizar cunhas
            if (cunhaLeft) {
                document.getElementById('cunhaLeft').textContent = `${cunhaLeft.mm} mm`;
                if (cunhaLeft.mm === 0) {
                    document.getElementById('noteLeft').textContent = '‚úì N√£o existe necessidade de cunha - alinhamento OK';
                } else {
                    const direcao = diffLeft > 0 ? 'AUMENTAR' : 'DIMINUIR';
                    document.getElementById('noteLeft').textContent = `${direcao} c√°ster: colocar cunha com parte mais grossa para ${diffLeft > 0 ? 'TR√ÅS' : 'FRENTE'}`;
                }
            } else {
                document.getElementById('cunhaLeft').textContent = 'N√£o encontrada';
                document.getElementById('noteLeft').textContent = 'Verifique a largura do eixo';
            }

            if (cunhaRight) {
                document.getElementById('cunhaRight').textContent = `${cunhaRight.mm} mm`;
                if (cunhaRight.mm === 0) {
                    document.getElementById('noteRight').textContent = '‚úì N√£o existe necessidade de cunha - alinhamento OK';
                } else {
                    const direcao = diffRight > 0 ? 'AUMENTAR' : 'DIMINUIR';
                    document.getElementById('noteRight').textContent = `${direcao} c√°ster: colocar cunha com parte mais grossa para ${diffRight > 0 ? 'TR√ÅS' : 'FRENTE'}`;
                }
            } else {
                document.getElementById('cunhaRight').textContent = 'N√£o encontrada';
                document.getElementById('noteRight').textContent = 'Verifique a largura do eixo';
            }

            // Instru√ß√µes
            let instrucoes = '<strong>1. Posi√ß√£o da cunha ao colocar:</strong><br>';
            if (diffLeft > 0) {
                instrucoes += '‚Ä¢ Esquerda: Cunha com parte MAIS GROSSA para TR√ÅS (aumenta c√°ster)<br>';
            } else {
                instrucoes += '‚Ä¢ Esquerda: Cunha com parte MAIS GROSSA para FRENTE (diminui c√°ster)<br>';
            }
            if (diffRight > 0) {
                instrucoes += '‚Ä¢ Direita: Cunha com parte MAIS GROSSA para TR√ÅS (aumenta c√°ster)<br>';
            } else {
                instrucoes += '‚Ä¢ Direita: Cunha com parte MAIS GROSSA para FRENTE (diminui c√°ster)<br>';
            }
            instrucoes += '<br><strong>2. Verifica√ß√£o:</strong><br>';
            instrucoes += '‚Ä¢ Use EPIs obrigat√≥rios<br>';
            instrucoes += '‚Ä¢ Coloque a cunha entre a sapata e o pino mestre<br>';
            instrucoes += '‚Ä¢ ‚ö†Ô∏è Importante: Os calos em ambos os lados devem ter TAMANHOS IGUAIS<br>';
            instrucoes += '‚Ä¢ Refa√ßa a medi√ß√£o ap√≥s a coloca√ß√£o para confirmar';

            document.getElementById('instructionsBox').innerHTML = instrucoes;
            document.getElementById('resultsContainer').classList.remove('hidden');
        }

        function limparFormulario() {
            document.getElementById('casterMinGraus').value = '';
            document.getElementById('casterMinMinutos').value = '';
            document.getElementById('casterMaxGraus').value = '';
            document.getElementById('casterMaxMinutos').value = '';
            document.getElementById('casterLeftGraus').value = '';
            document.getElementById('casterLeftMinutos').value = '';
            document.getElementById('casterRightGraus').value = '';
            document.getElementById('casterRightMinutos').value = '';
            document.getElementById('axleWidth').value = '';
            document.getElementById('idealValue').textContent = '';
            document.getElementById('resultsContainer').classList.add('hidden');
        }

        // Atualizar valor ideal em tempo real
        function atualizarIdeal() {
            const casterMinGraus = document.getElementById('casterMinGraus').value;
            const casterMinMinutos = document.getElementById('casterMinMinutos').value || 0;
            const casterMaxGraus = document.getElementById('casterMaxGraus').value;
            const casterMaxMinutos = document.getElementById('casterMaxMinutos').value || 0;
            
            if (casterMinGraus && casterMaxGraus) {
                const casterMin = converterParaDecimal(casterMinGraus, casterMinMinutos);
                const casterMax = converterParaDecimal(casterMaxGraus, casterMaxMinutos);
                
                if (casterMin < casterMax) {
                    const ideal = (casterMin + casterMax) / 2;
                    const idealGM = converterParaGrausMinutos(ideal);
                    document.getElementById('idealValue').innerHTML = `<strong>Valor Ideal de C√°ster:</strong> ${idealGM.graus}¬∞ ${String(idealGM.minutos).padStart(2, '0')}'`;
                }
            }
        }

        document.getElementById('casterMinGraus').addEventListener('change', atualizarIdeal);
        document.getElementById('casterMinMinutos').addEventListener('change', atualizarIdeal);
        document.getElementById('casterMaxGraus').addEventListener('change', atualizarIdeal);
        document.getElementById('casterMaxMinutos').addEventListener('change', atualizarIdeal);
    </script>
</body>
</html>
